<!DOCTYPE html>
<html>
<head>
  <title>JBJ - Playground</title>
  <meta name="description" content="Json By Json - A new way to transform JSON object with a JSON stylesheet. It's like XSL/XML but only with JSON." />


  <!-- CSS-->
  <link rel="stylesheet" href="assets/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="assets/css/bootstrap-theme.min.css"/>
  <link rel="stylesheet" href="assets/css/style.css"/>

  <!-- JAVASCRIPT -->
  <script src="assets/js/bundle.js" type="text/javascript"></script>
</head>
<body>
    <a href="https://github.com/castorjs/node-jbj"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>

    <h1 class="row">JBJ - Playground</h1>
    <h2 class="row">Json By Json - A new way to transform JSON object with a JSON stylesheet. It's like XSL/XML but only with JSON. </h2>

    <section class="container">
      <div class="textareaSection">
          <div class="col-lg-4">
            <label for="input">INPUT :</label>
            <textarea id="input"  cols="30" rows="10">{"test":1}</textarea>
          </div>
          <div class="col-lg-4">
            <label for="stylesheet">STYLESHEET :</label>
            <textarea id="stylesheet"  cols="30" rows="10">{"get":"test"}</textarea>
          </div>
          <div class="col-lg-4">
            <label for="output">RESULT :</label>
            <textarea id="output"   cols="30" rows="10"></textarea>
          </div>
      </div>
      <div class="row" style="text-align: center; margin-top: 50px; ">
          <button class="tryButton">TRY IT!</button>
      </div>
      <div class="row">
        <div class="col-md-6" id="actions">
          <h2>Actions</h2>
          <input id="search-action" type="text" placeholder="Search...">
          <ul style="" id="actions-list">
            <li> <a href="https://github.com/castorjs/node-jbj#append">append</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#capitalize">capitalize</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#cast">cast</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#coalesce">coalesce</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#compute">compute</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#csv">csv</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#debug">debug</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#deduplicate">deduplicate</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#default">default</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#dividedBy">dividedBy</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#downcase">downcase</a>  </li>
            <li> <a href="https://github.com/castorjs/node-jbj#extend">extend</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#first">first</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#flatten">flatten</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#foreach">foreach</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#get">get</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#glue">glue</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#json">json</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#last">last</a>  </li>
            <li> <a href="https://github.com/castorjs/node-jbj#mapping">mapping</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#mask">mask</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#max">max</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#min">min</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#minus">minus</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#parseCSV">parseCSV</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#parseJSON">parseJSON</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#parseXML">parseXML</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#plus">plus</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#prepend">prepend</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#replace">replace</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#required">required</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#reverse">reverse</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#select">select</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#set">set</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#shift">shift</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#size">size</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#sort">sort</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#sortBy">sortBy</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#template">template</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#times">times</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#trim">trim</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#truncate">truncate</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#truncateWords">truncateWords</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#upcase">upcase</a> </li>
            <li> <a href="https://github.com/castorjs/node-jbj#xml">xml</a> </li>
          </ul>
        </div>
        <div class="col-md-6" id="actions">
          <h2>Examples</h2>
          <ul>
            <li class="example">Basic: capitalize</li>
            <li class="example">Basic: upcase</li>
            <li class="example">Basic: downcase</li>
            <li class="example">Basic: first</li>
            <li class="example">Basic: last</li>
            <li class="example">Basic: sort</li>
            <li class="example">Basic: length</li>
            <li class="example">Basic: plus</li>
            <li class="example">Basic: minus</li>
            <li class="example">Basic: times</li>
            <li class="example">Basic: dividedBy</li>
            <li class="example">Basic: join</li>
            <li class="example">Basic: truncate</li>
            <li class="example">Basic: truncateWords</li>
            <li class="example">Basic: prepend</li>
            <li class="example">Basic: append</li>
            <li class="example">Basic: shift</li>
            <li class="example">Basic: replace</li>
            <li class="example">Basic: replace 2</li>
            <li class="example">Basic: mapping</li>
            <li class="example">Basic: mapping 2</li>
            <li class="example">Basic: min</li>
            <li class="example">Basic: max</li>
            <li class="example">Basic: min obj</li>
            <li class="example">Basic: flatten</li>
            <li class="example">Basic: deduplicate</li>
            <li class="example">Compute: round</li>
            <li class="example">Compute: round this</li>
            <li class="example">Compute: variables</li>
            <li class="example">CSV: output</li>
            <li class="example">CSV: parseCSV</li>
            <li class="example">Find: find</li>
            <li class="example">Find: find 2</li>
            <li class="example">Find: find 3</li>
            <li class="example">Find: coalesce</li>
            <li class="example">Find: order</li>
          </ul>
        </div>
      </div>
    </section>

    <script type="text/javascript">
var JBJ = require('jbj');
var output = document.getElementById('output');

var getValue = function getValue(id) {
  var value = {};
  try {
    value = JSON.parse(document.getElementById(id).value);
    return value;
  }
  catch(e) {
    console.error(e);
    value.err = e;
    output.value = "Error in " + id + ":\n" + e;
    return value;
  }
};

var applyStylesheet = function applyStylesheet() {
  var input = getValue('input');
  if (input.err) return;
  var stylesheet = getValue('stylesheet');
  if (stylesheet.err) return;
  JBJ.render(stylesheet,input, function afterRender(err, out) {
    if (err) {
      console.error(err);
      output.value = err;
      return;
    }
    output.value = JSON.stringify(out,null,' ');
  });
};

var searchAction = function SearchAction(e) {
  console.log(e);
  console.log(e.target.value);
  var toFind = e.target.value;
  var len    = toFind.length;
  var actionsList = document.getElementById('actions-list');
  var actionsNb = actionsList.children.length;
  for (var i=0; i < actionsNb; i++) {
    var li = actionsList.children[i];
    var text = li.textContent.trim();
    if (text.slice(0, len) === toFind) {
      li.setAttribute('style', 'display:inline');
    }
    else {
      li.setAttribute('style', 'display:none');
    }
  }
};

var button = document.getElementsByTagName('button')[0];
button.addEventListener('click', applyStylesheet);

var search_action = document.getElementById('search-action');
search_action.addEventListener('keyup', searchAction);
    </script>
    <script src="assets/js/examples.js" type="text/javascript"></script>
  </body>
</html>
